/*
* @Author: Merle
* @Date:   2017-06-22 22:14:27
* @Last Modified by:   Merle
* @Last Modified time: 2017-06-23 16:22:38
*/

1.roles  角色表
create table roles(
   role_id INTEGER NOT NULL,
   role_name VARCHAR(20) NOT NULL,  // 默认三种角色 0-管理员  1-卖家 2-用户   手动加入

   PRIMARY KEY(role_id)
);

2.users 用户表
create table users(
    user_id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,   // MySql--auto_increment
    username VARCHAR(30) NOT NULL,
    password VARCHAR(50) NOT NULL,
    user_age INTEGER NOT NULL,
    user_birthday DATE NOT NULL,
    user_money FLOAT default 1000 NOT NULL,
    user_address VARCHAR(30),
    role_id INTEGER,

    PRIMARY KEY(user_id)
);
// 添加外键
alter table USERS add constraint user_role_fk foreign key (role_id) references ROLES(role_id);


3.products 商品表
create table products(
    product_id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,  // MySql--auto_increment
    product_name VARCHAR(30) NOT NULL,
    product_pic VARCHAR(30) NOT NULL,   // 存储图片地址
    product_price FLOAT NOT NULL,
    product_price_origin FLOAT NOT NULL,
    product_area INTEGER NOT NULL,
    product_type INTEGER NOT NULL,
    product_inventory INTEGER NOT NULL,
    product_sell_amount INTEGER default 0 NOT NULL,
    product_deadline DATE NOT NULL,
    product_summary VARCHAR(50) NOT NULL,
    product_details VARCHAR(300) NOT NULL,
    seller_id INTEGER NOT NULL,

    PRIMARY KEY(product_id)
);

4.orders 订单表  //用户使用  查看自己的购物信息
create table orders(
    order_id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    user_id INTEGER NOT NULL,
    product_id INTEGER NOT NULL,

    PRIMARY KEY(order_id)
);

5.citys 城市表
create table citys(
    city_id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    city_name VARCHAR(30) NOT NULL,

    PRIMARY KEY(city_id)
);

6.districts 地区表
create table districts(
    district_id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    district_name VARCHAR(30) NOT NULL,
    city_id INTEGER NOT NULL,

    PRIMARY KEY(district_id)
);
// FK  地区--城市
alter table DISTRICTS add constraint city_district_fk foreign key (CITY_ID) references CITYS(CITY_ID);


8.reviews 发布的信息审核表
create table reviews(
  review_id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,  // MySql--auto_increment
  seller_id INTEGER NOT NULL,
  result VARCHAR(100),
  review_status INTEGER DEFAULT 0,    // 0-未审核  1-审核通过  2-审核未通过
  product_name VARCHAR(30) NOT NULL,
  product_pic VARCHAR(30) NOT NULL,
  product_price FLOAT NOT NULL,
  product_price_origin FLOAT NOT NULL,
  product_area INTEGER NOT NULL,
  product_type INTEGER NOT NULL,
  product_inventory INTEGER NOT NULL,
  product_sell_amount INTEGER  default 0 NOT NULL,
  product_deadline DATE NOT NULL,
  product_summary VARCHAR(50) NOT NULL,
  product_details VARCHAR(300) NOT NULL,

  PRIMARY KEY(review_id)
);

9.foodtypes 美食类别表
create table foodtypes(
    foodtype_id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, // MySql--auto_increment
    foodtype_name VARCHAR(30) NOT NULL,

    PRIMARY KEY(foodtype_id)
);
